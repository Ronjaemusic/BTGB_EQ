<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BTGB Emotional Intelligence Scorecard</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f6f8;
      margin: 0;
      padding: 20px;
    }
    #container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 25px;
      border-left: 6px solid #2e7d32;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      color: #2e7d32;
      margin-top: 0;
    }
    input[type="text"] {
      padding: 10px;
      font-size: 1em;
      width: 100%;
      max-width: 400px;
      margin-bottom: 15px;
      box-sizing: border-box;
    }
    .hidden {
      display: none;
    }
    .question-block {
      display: none;
    }
    .question-block.active {
      display: block;
    }
    .radio-group {
      margin-top: 10px;
    }
    .radio-options,
    .radio-labels {
      display: flex;
      justify-content: space-between;
      max-width: 100%;
      margin: auto;
      padding: 0 5%;
    }
    .radio-labels {
      font-size: 0.85em;
      color: #555;
      margin-top: 4px;
    }
    .navigation {
      margin-top: 30px;
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    button {
      padding: 10px 20px;
      background-color: #2e7d32;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1em;
    }
    .progress-bar {
      height: 20px;
      background: #c8e6c9;
      border-radius: 10px;
      margin-bottom: 20px;
      position: relative;
      overflow: hidden;
    }
    .progress-bar-fill {
      height: 100%;
      width: 0%;
      background: #2e7d32;
      transition: width 0.3s ease;
    }
    .progress-label {
      position: absolute;
      width: 100%;
      text-align: center;
      top: 0;
      font-size: 0.85em;
      color: #1b5e20;
    }
    .results-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    .results-table th, .results-table td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: left;
    }
    .dot {
      height: 14px;
      width: 14px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 8px;
    }
    .green { background-color: #4CAF50; }
    .yellow { background-color: #FFC107; }
    .red { background-color: #F44336; }
    .legend {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      margin-top: 10px;
      padding: 10px;
      background: #f1f1f1;
      border: 1px solid #ccc;
    }

    @media (max-width: 600px) {
      .radio-options label,
      .radio-labels span {
        font-size: 0.75em;
        flex: 1;
        text-align: center;
      }
      .radio-options input {
        transform: scale(1.2);
      }
    }
  </style>
</head>
<body>
  <div id="container">
    <!-- Intro Screen -->
    <div id="introScreen">
      <h1>BTGB Emotional Intelligence Scorecard</h1>
      <p>Enter your name to begin:</p>
      <input type="text" id="firstName" placeholder="First Name" />
      <input type="text" id="lastName" placeholder="Last Name" />
      <br />
      <button onclick="startAssessment()">Start Assessment</button>
    </div>

    <!-- Assessment Screen -->
    <div id="assessmentScreen" class="hidden">
      <div class="progress-bar">
        <div class="progress-bar-fill" id="progressFill"></div>
        <div class="progress-label" id="progressText">0%</div>
      </div>
      <div id="questionsContainer"></div>
      <div class="navigation">
        <button onclick="prevQuestion()">Previous</button>
        <button onclick="nextQuestion()">Next</button>
        <button id="submitResults" onclick="calculateScore()" style="display:none;">Submit</button>
      </div>
    </div>

    <!-- Results Screen -->
    <div id="results" class="hidden">
      <h2 id="namedHeader"></h2>
      <div class="legend">
        <div><span class="dot red"></span> Needs Support (0–19)</div>
        <div><span class="dot yellow"></span> Growth Zone (20–25)</div>
        <div><span class="dot green"></span> Strength Zone (26–30)</div>
      </div>
      <table class="results-table">
        <thead>
          <tr>
            <th>Pillar</th>
            <th>Score</th>
            <th>Zone</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Self-Awareness</td><td><span id="saScore"></span>/30</td><td id="saZone"></td></tr>
          <tr><td>Self-Management</td><td><span id="smScore"></span>/30</td><td id="smZone"></td></tr>
          <tr><td>Social Awareness</td><td><span id="soScore"></span>/30</td><td id="soZone"></td></tr>
          <tr><td>Relationship Management</td><td><span id="rmScore"></span>/30</td><td id="rmZone"></td></tr>
          <tr><th>Total Score</th><th><span id="totalScore"></span>/120</th><td></td></tr>
        </tbody>
      </table>
      <br />
      <button onclick="window.print()">Print Results</button>
    </div>
  </div>

  <script>
    const questions = [
      "I can name what I’m feeling without blaming others.",
      "I notice physical signs of my emotions (tight chest, shallow breath).",
      "I reflect on how my past shapes my reactions.",
      "I can spot when I’m emotionally triggered.",
      "I understand how my emotions affect my decisions.",
      "I recognize patterns in how I respond to stress.",
      "I pause and breathe before responding under pressure.",
      "I don’t let a bad moment ruin my entire day.",
      "I stick to my values even when it’s inconvenient.",
      "I can pivot calmly when plans change.",
      "I know when to speak and when to be silent.",
      "I manage my impulses during conflict.",
      "I pick up on body language shifts quickly.",
      "I notice when someone is withdrawn or quiet.",
      "I can sense tension before it becomes conflict.",
      "I listen to learn, not just to speak.",
      "I consider how others may feel before I act.",
      "I understand cultural differences and adjust respectfully.",
      "I give clear, respectful feedback even when it’s hard.",
      "I know how to calm things down during team conflict.",
      "I build trust by being consistent in my actions.",
      "I take time to understand what motivates others.",
      "I celebrate people publicly and correct privately.",
      "I repair relationships after misunderstandings."
    ];
    const sectionTitles = ["Self-Awareness", "Self-Management", "Social Awareness", "Relationship Management"];
    let currentIndex = 0;

    function startAssessment() {
      const first = document.getElementById('firstName').value.trim();
      const last = document.getElementById('lastName').value.trim();
      if (!first || !last) {
        alert("Please enter your full name before starting.");
        return;
      }
      document.getElementById('introScreen').classList.add('hidden');
      document.getElementById('assessmentScreen').classList.remove('hidden');
      buildQuestions();
      showQuestion(currentIndex);
    }

    function buildQuestions() {
      const container = document.getElementById('questionsContainer');
      container.innerHTML = "";
      questions.forEach((q, i) => {
        const block = document.createElement('div');
        block.className = 'question-block';
        if (i === 0) block.classList.add('active');
        const section = Math.floor(i / 6);
        block.innerHTML = `
          <h3>${sectionTitles[section]}</h3>
          <h2>Question ${i + 1} of ${questions.length}</h2>
          <p>${q}</p>
          <div class="radio-group">
            <div class="radio-options">
              <label><input type="radio" name="q${i}" value="1"></label>
              <label><input type="radio" name="q${i}" value="2"></label>
              <label><input type="radio" name="q${i}" value="3"></label>
              <label><input type="radio" name="q${i}" value="4"></label>
              <label><input type="radio" name="q${i}" value="5"></label>
            </div>
            <div class="radio-labels">
              <span>1 - Never</span>
              <span>2 - Rarely</span>
              <span>3 - Sometimes</span>
              <span>4 - Often</span>
              <span>5 - Always</span>
            </div>
          </div>
        `;
        container.appendChild(block);
      });
    }

    function showQuestion(index) {
      const blocks = document.querySelectorAll('.question-block');
      blocks.forEach((b, i) => b.classList.toggle('active', i === index));
      document.getElementById('submitResults').style.display = (index === questions.length - 1) ? 'inline-block' : 'none';
      const percent = Math.round(((index + 1) / questions.length) * 100);
      document.getElementById("progressFill").style.width = percent + "%";
      document.getElementById("progressText").textContent = percent + "%";
    }

    function nextQuestion() {
      const radios = document.querySelectorAll(`input[name="q${currentIndex}"]`);
      if (![...radios].some(r => r.checked)) {
        alert("Please select a rating before continuing.");
        return;
      }
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        showQuestion(currentIndex);
      }
    }

    function prevQuestion() {
      if (currentIndex > 0) {
        currentIndex--;
        showQuestion(currentIndex);
      }
    }

    function getZone(score) {
      if (score >= 26) return '<span class="dot green"></span> Strength Zone';
      if (score >= 20) return '<span class="dot yellow"></span> Growth Zone';
      return '<span class="dot red"></span> Needs Support';
    }

    function calculateScore() {
      let sa = 0, sm = 0, so = 0, rm = 0;
      for (let i = 0; i < 24; i++) {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        if (!selected) continue;
        const val = parseInt(selected.value);
        if (i < 6) sa += val;
        else if (i < 12) sm += val;
        else if (i < 18) so += val;
        else rm += val;
      }
      const total = sa + sm + so + rm;

      document.getElementById('saScore').textContent = sa;
      document.getElementById('smScore').textContent = sm;
      document.getElementById('soScore').textContent = so;
      document.getElementById('rmScore').textContent = rm;
      document.getElementById('totalScore').textContent = total;

      document.getElementById('saZone').innerHTML = getZone(sa);
      document.getElementById('smZone').innerHTML = getZone(sm);
      document.getElementById('soZone').innerHTML = getZone(so);
      document.getElementById('rmZone').innerHTML = getZone(rm);

      const first = document.getElementById('firstName').value.trim();
      const last = document.getElementById('lastName').value.trim();
      const today = new Date().toLocaleDateString();
      document.getElementById('namedHeader').textContent = 
        `BTGB Emotional Intelligence Scorecard for ${first} ${last} – Completed on ${today}`;

      document.getElementById('assessmentScreen').classList.add('hidden');
      document.getElementById('results').classList.remove('hidden');
      window.scrollTo(0, document.body.scrollHeight);
    }
  </script>
</body>
</html>